import{a as N}from"./chunk-Q4AD563P.js";import{C as L,d as y,f as p,g as E,h as w,m as x,q as k,r as C,z as I}from"./chunk-FHPH46MZ.js";import{d as h,f as b,g as S}from"./chunk-ZBGVERMW.js";import"./chunk-LVHII46P.js";import{r as v}from"./chunk-RD6NJ7NY.js";import{Ac as f,Gb as s,Sb as t,Tb as e,Ub as o,dc as c,kb as u,lb as a,qc as r,ra as d,yc as g}from"./chunk-3TFDHLSU.js";import"./chunk-GAL4ENT6.js";var R=m=>({"background-image":m}),F=class m{constructor(i,n,l,A){this.fb=i;this.auth=n;this.router=l;this.route=A;this.form=i.group({username:["",p.required],password:["",p.required]})}imgUrl="../images/smartwamv2.jpg";returnUrl;form;login(){this.auth.login({username:this.form.value.username,password:this.form.value.password}).subscribe({next:i=>{this.auth.saveToken(i.token),localStorage.setItem("token",i.token),localStorage.setItem("user",JSON.stringify(i.user)),this.router.navigate(["/dashboard"])},error:i=>alert(i.error.message)})}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}onLoggedin(i){i.preventDefault(),localStorage.setItem("isLoggedin","true"),localStorage.getItem("isLoggedin")==="true"&&this.router.navigate([this.returnUrl])}static \u0275fac=function(n){return new(n||m)(a(I),a(N),a(b),a(h))};static \u0275cmp=d({type:m,selectors:[["app-login"]],standalone:!0,features:[g],decls:40,vars:4,consts:[[1,"container"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-7","mx-auto"],[1,"card"],[1,"row"],[1,"col-md-4","pe-md-0"],[1,"auth-side-wrapper",3,"ngStyle"],[1,"col-md-8","ps-md-0"],[1,"auth-form-wrapper","px-4","py-5"],["routerLink",".",1,"nobleui-logo","d-block","mb-2"],[1,"text-secondary","fw-normal","mb-4"],[1,"forms-sample",3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","username","formControlName","username","placeholder","Username",1,"form-control"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password","formControlName","password","autocomplete","current-password",1,"form-control"],[1,"form-check","mb-3"],["type","checkbox","id","authCheck",1,"form-check-input"],["for","authCheck",1,"form-check-label"],["type","submit",1,"btn","btn-primary","me-2","mb-2","mb-md-0",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-icon-text","mb-2","mb-md-0"],[1,"feather","icon-twitter","btn-icon-prepend"],["routerLink","/auth/forgot-password"],["routerLink","/auth/register",1,"d-block","mt-3","text-secondary"]],template:function(n,l){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),o(6,"div",6),e(),t(7,"div",7)(8,"div",8)(9,"a",9),r(10,"Smart Home WAM"),t(11,"span"),r(12,"\xA0V - Care "),e(),r(13,"Central"),e(),t(14,"h5",10),r(15,"Welcome back! Log in to your account."),e(),t(16,"form",11)(17,"div",12)(18,"label",13),r(19,"User name"),e(),o(20,"input",14),e(),t(21,"div",12)(22,"label",15),r(23,"Password"),e(),o(24,"input",16),e(),t(25,"div",17),o(26,"input",18),t(27,"label",19),r(28," Remember me "),e()(),t(29,"div")(30,"button",20),c("click",function(){return l.login()}),r(31,"Login"),e(),t(32,"button",21),o(33,"i",22),r(34," Login with twitter "),e()(),t(35,"a",23),r(36,"\u0E25\u0E37\u0E21\u0E23\u0E2B\u0E31\u0E2A"),e(),t(37,"a",24),r(38,"Not a user? Sign up"),e(),o(39,"br"),e()()()()()()()()),n&2&&(u(6),s("ngStyle",f(2,R,"url("+l.imgUrl+")")),u(10),s("formGroup",l.form))},dependencies:[v,S,L,x,y,E,w,k,C],styles:["[_nghost-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center}"]})};export{F as LoginComponent};
