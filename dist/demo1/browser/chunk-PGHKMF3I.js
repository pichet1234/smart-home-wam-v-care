import{a as T}from"./chunk-ISKPDBW7.js";import{a as V,b as G}from"./chunk-HK54DAHC.js";import{a as J}from"./chunk-2GZCSGRQ.js";import{a as L}from"./chunk-PKCEWX3G.js";import{C as R,d as A,f as l,g as q,h as w,m as N,q as D,r as I,s as F,t as k,u as M,v as O,z as B}from"./chunk-FHPH46MZ.js";import{k as y}from"./chunk-ZBGVERMW.js";import"./chunk-LVHII46P.js";import{m as S,n as _,y as C}from"./chunk-RD6NJ7NY.js";import{Bb as s,Gb as m,Sb as i,Tb as e,Ub as E,dc as g,ec as v,ha as b,kb as a,lb as p,qc as r,ra as h,sc as d,yc as x}from"./chunk-3TFDHLSU.js";import{f as $}from"./chunk-GAL4ENT6.js";var c=$(J());var f=class n{constructor(){}getInsert(t){return c.default.fire({title:"Insert data successfull",text:t,icon:"success"})}geterror(){return c.default.fire({title:"Insert Data Failed",text:"\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14",icon:"warning"})}geterrorMessage(t){return c.default.fire({title:"\u0E25\u0E07\u0E17\u0E30\u0E40\u0E1A\u0E35\u0E22\u0E19\u0E44\u0E21\u0E48\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08",text:t,icon:"warning"})}static \u0275fac=function(o){return new(o||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})};function Q(n,t){n&1&&(i(0,"div")(1,"p",39),r(2,"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E15\u0E23\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27\u0E1B\u0E23\u0E30\u0E0A\u0E32\u0E0A\u0E19 \u0E44\u0E21\u0E48\u0E04\u0E23\u0E1A 13 \u0E2B\u0E25\u0E31\u0E01 "),e()())}function U(n,t){n&1&&(i(0,"div")(1,"p",39),r(2,"\u0E01\u0E23\u0E2D\u0E01\u0E40\u0E25\u0E02\u0E40\u0E01\u0E34\u0E19 13 \u0E2B\u0E25\u0E31\u0E01 "),e()())}function W(n,t){if(n&1&&(i(0,"div")(1,"p",39),r(2),e()()),n&2){let o=v();a(2),d("",o.errorMessage," ")}}function X(n,t){if(n&1&&(i(0,"option",40),r(1),e()),n&2){let o=t.$implicit;m("ngValue",o),a(),d("",o.name_th," ")}}function Y(n,t){if(n&1&&(i(0,"option",40),r(1),e()),n&2){let o=t.$implicit;m("ngValue",o),a(),d("",o.name_th," ")}}function Z(n,t){if(n&1&&(i(0,"option",40),r(1),e()),n&2){let o=t.$implicit;m("ngValue",o),a(),d("",o.name_th," ")}}function ee(n,t){if(n&1&&E(0,"map-marker",41),n&2){let o=t.$implicit,u=v();m("position",o)("options",u.markerOptions)}}var j=class n{constructor(t,o,u){this.fb=t;this.apidataService=o;this.alertone=u;this.form=this.fb.group({cid:["",[l.required,l.minLength(13),l.maxLength(13)]],prefix:["",l.required],fname:["",l.required],lname:["",l.required],phone:[""],banumber:["",l.required],moo:["",l.required],province:["",l.required],district:["",l.required],subdistrict:["",l.required],latitude:["",l.required],longitude:["",l.required]})}center={lat:15.5082371,lng:103.0542436};zoom=15;markerOptions={draggable:!1};markerPositions=[];path="registerpatient";addMarker(t){if(t.latLng){let o=t.latLng.toJSON();this.markerPositions=[o],this.form.patchValue({latitude:o.lat,longitude:o.lng})}}form;provinces=T;districts=[];subdistricts=[];errorMessage="";ngOnInit(){this.form.get("province")?.valueChanges.subscribe(t=>{this.districts=t?t.amphure:[],this.subdistricts=[],this.form.get("district")?.reset(),this.form.get("subdistrict")?.reset()}),this.form.get("district")?.valueChanges.subscribe(t=>{this.subdistricts=t?t.tambon:[],this.form.get("subdistrict")?.reset()})}onSubmit(){this.form.controls.cid.hasError("required")&&(this.errorMessage="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),this.form,this.form.value.province?.name_th,this.form.value.district?.name_th,this.form.value.subdistrict?.name_th,console.log(this.form.value),this.apidataService.sendData(this.path,this.form.value).subscribe(t=>{t?(this.alertone.getInsert(t.message),this.form.reset()):this.alertone.geterror()},t=>{console.error("\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14:",t.message),t.error&&t.error.message&&this.alertone.geterrorMessage(t.error.message)})}static \u0275fac=function(o){return new(o||n)(p(B),p(L),p(f))};static \u0275cmp=h({type:n,selectors:[["app-registertwo"]],standalone:!0,features:[x],decls:108,vars:13,consts:[[1,"container"],[1,"row","w-100","mx-0","auth-page"],[1,"col-md-8","col-xl-12","mx-auto"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"font-size","25px"],[3,"formGroup"],[1,"col-sm-3"],[1,"mb-3"],[1,"form-label"],["type","text","name","cid","formControlName","cid","required","",1,"form-control"],[4,"ngIf"],[1,"col-sm-1"],["name","prefix","formControlName","prefix","required","",1,"form-select","form-select-sm","mb-3"],["selected",""],["value","\u0E19\u0E32\u0E22"],["value","\u0E19\u0E32\u0E07"],["value","\u0E19.\u0E2A."],["value","\u0E14.\u0E0A."],["value","\u0E14.\u0E0D."],["type","text","name","fname","formControlName","fname","required","",1,"form-control"],[1,"col-sm-4"],["type","text","name","lname","formControlName","lname","required","",1,"form-control"],["type","text","name","phone","formControlName","phone",1,"form-control"],[1,"col-sm-2"],["type","text","name","banumber","formControlName","banumber","required","",1,"form-control"],["type","text","name","moo","formControlName","moo","required","",1,"form-control"],["formControlName","province","required","",1,"form-select","form-select-sm","mb-3"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","district","required","",1,"form-select","form-select-sm","mb-3",3,"disabled"],["formControlName","subdistrict","required","",1,"form-select","form-select-sm","mb-3",3,"disabled"],["for",""],["height","400px","width","750px",3,"mapClick","center","zoom"],[3,"position","options",4,"ngFor","ngForOf"],["type","text","name","latitude","formControlName","latitude","required","",1,"form-control"],["type","text","name","longitude","formControlName","longitude","required","",1,"form-control"],["type","button",1,"btn","btn-primary","submit",3,"click","disabled"],[2,"color","red"],[3,"ngValue"],[3,"position","options"]],template:function(o,u){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h6",7),r(8,"\u0E25\u0E07\u0E17\u0E30\u0E40\u0E1A\u0E35\u0E22\u0E19\u0E1B\u0E23\u0E30\u0E0A\u0E32\u0E0A\u0E19\u0E01\u0E25\u0E38\u0E48\u0E21\u0E40\u0E2A\u0E35\u0E48\u0E22\u0E07"),e(),i(9,"form",8)(10,"div",3)(11,"div",9)(12,"div",10)(13,"label",11),r(14,"\u0E40\u0E25\u0E02\u0E1A\u0E31\u0E15\u0E23\u0E1B\u0E23\u0E30\u0E08\u0E33\u0E15\u0E31\u0E27\u0E1B\u0E23\u0E30\u0E0A\u0E32\u0E0A\u0E19"),e(),E(15,"input",12),e(),s(16,Q,3,0,"div",13)(17,U,3,0,"div",13)(18,W,3,1,"div",13),e(),i(19,"div",14)(20,"div",10)(21,"label",11),r(22,"\u0E04\u0E33\u0E19\u0E33\u0E2B\u0E19\u0E49\u0E32"),e(),i(23,"select",15)(24,"option",16),r(25,"\u0E40\u0E25\u0E37\u0E2D\u0E01"),e(),i(26,"option",17),r(27,"\u0E19\u0E32\u0E22"),e(),i(28,"option",18),r(29,"\u0E19\u0E32\u0E07"),e(),i(30,"option",19),r(31,"\u0E19.\u0E2A."),e(),i(32,"option",20),r(33,"\u0E14.\u0E0A."),e(),i(34,"option",21),r(35,"\u0E14.\u0E0D."),e()()()(),i(36,"div",9)(37,"div",10)(38,"label",11),r(39,"\u0E0A\u0E37\u0E48\u0E2D"),e(),E(40,"input",22),e()(),i(41,"div",23)(42,"div",10)(43,"label",11),r(44,"\u0E2A\u0E01\u0E38\u0E25"),e(),E(45,"input",24),e()()(),i(46,"div",3)(47,"div",23)(48,"div",10)(49,"label",11),r(50,"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E42\u0E17\u0E23"),e(),E(51,"input",25),e()(),i(52,"div",26)(53,"div",10)(54,"label",11),r(55,"\u0E1A\u0E49\u0E32\u0E19\u0E40\u0E25\u0E02\u0E17\u0E35\u0E48"),e(),E(56,"input",27),e()(),i(57,"div",26)(58,"div",10)(59,"label",11),r(60,"\u0E2B\u0E21\u0E39\u0E48"),e(),E(61,"input",28),e()()(),i(62,"div",3)(63,"div",26)(64,"div",10)(65,"label",11),r(66,"\u0E08\u0E31\u0E07\u0E2B\u0E27\u0E31\u0E14"),e(),i(67,"select",29)(68,"option",16),r(69,"\u0E40\u0E25\u0E37\u0E2D\u0E01"),e(),s(70,X,2,2,"option",30),e()()(),i(71,"div",26)(72,"div",10)(73,"label",11),r(74,"\u0E2D\u0E33\u0E40\u0E20\u0E2D"),e(),i(75,"select",31)(76,"option",16),r(77,"\u0E40\u0E25\u0E37\u0E2D\u0E01"),e(),s(78,Y,2,2,"option",30),e()()(),i(79,"div",26)(80,"div",10)(81,"label",11),r(82,"\u0E15\u0E33\u0E1A\u0E25"),e(),i(83,"select",32)(84,"option",16),r(85,"\u0E40\u0E25\u0E37\u0E2D\u0E01"),e(),s(86,Z,2,2,"option",30),e()()(),i(87,"div",10)(88,"label",33),r(89,"\u0E1B\u0E31\u0E01\u0E2B\u0E21\u0E38\u0E14\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48"),e(),i(90,"google-map",34),g("mapClick",function(P){return u.addMarker(P)}),s(91,ee,1,2,"map-marker",35),e()(),i(92,"div",3)(93,"div",26)(94,"div",10)(95,"label",11),r(96,"lat"),e(),E(97,"input",36),e()(),i(98,"div",26)(99,"div",10)(100,"label",11),r(101,"lng"),e(),E(102,"input",37),e()()()()(),i(103,"div",3)(104,"div",9)(105,"div",10)(106,"button",38),g("click",function(){return u.onSubmit()}),r(107,"Submit form"),e()()()()()()()()()()()),o&2&&(a(9),m("formGroup",u.form),a(7),m("ngIf",u.form.controls.cid.hasError("minlength")),a(),m("ngIf",u.form.controls.cid.hasError("maxlength")),a(),m("ngIf",u.form.controls.cid.hasError("required")),a(52),m("ngForOf",u.provinces),a(5),m("disabled",!u.districts.length),a(3),m("ngForOf",u.districts),a(5),m("disabled",!u.subdistricts.length),a(3),m("ngForOf",u.subdistricts),a(4),m("center",u.center)("zoom",u.zoom),a(),m("ngForOf",u.markerPositions),a(15),m("disabled",u.form.invalid))},dependencies:[R,N,k,M,A,F,q,w,O,D,I,C,S,_,V,G,y]})};export{j as RegistertwoComponent};
